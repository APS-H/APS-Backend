# 添加的约束与算法

## 多阶段划分

每个订单具有多个阶段  
一个阶段具有一个或多个依赖阶段  
每个阶段呢依赖阶段都必须被安排在该阶段的 Time Slot 之前  

实现方法

添加硬约束要求，对于每一个阶段，位于它之后的每个依赖阶段都会导致 hard 评分减一

## 提高机器利用率

在之前实现的机器负载均衡的基础上，把惩罚设置为奖励，会导致出现明显峰值，就能优先使用已经被使用过的机器

实现方法

平方和

## 订单尽早完成

每个订单在自己的ddl之前尽早完成

实现方法

把之前实现的延期约束的系数放大（为了避免由于订单尽早完成的奖励而对延期造成影响）  
然后计算订单分配的 Time Slot 与 ddl 之间的时间差，作为 soft 评分的奖励

## 生产小组剪枝优化

使用生产小组组合代替具体的小组，减少枚举次数（剪枝），大幅度提高了排程速度，原先三个小时的排程只需要十分钟

实现方法

能够同时工作的小组的所有组合作为一种选择，代替原先的多个小组任意选择
